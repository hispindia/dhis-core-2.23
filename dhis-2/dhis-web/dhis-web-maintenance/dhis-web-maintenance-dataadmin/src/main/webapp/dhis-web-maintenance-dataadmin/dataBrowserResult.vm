
<h3>$i18n.getString( "search_results_for" ) $searchOption - $parentName</h3>

    <span id="info">
    	$i18n.getString( "request_returned_in" ): ${requestTime} $i18n.getString( "ms" ). 
    	$i18n.getString( "query_took" ): ${queryTime} $i18n.getString( "ms" ). 
    	$i18n.getString( "number_of_queries_executed" ): ${queryCount}.
    </span>
	
	#if ($searchOption=="OrganisationUnit")
	<div>
		<h3>Navigation</h3>
		<a href="displayDataBrowserForm.action">Start</a>
		#foreach($parent in $BreadCrumbOrgUnit)
			#if($parent.getName()==$ParentName)
				&raquo; <span style="font-weight:bold;">$parent.getName()</span>
			#else
				&raquo; <a style="$tmpStyle" href="searchResult.action?searchOption=$searchOption&amp;periodTypeId=$periodTypeId&amp;fromDate=$fromDate&amp;toDate=$toDate&amp;selectedUnitChanger=$parent.getId()">$parent.getName()</a>
			#end
		#end
		
		<div id="orgUnitTree" style="margin:0 0 10px 0;">
		
		<form method="get" id="childSelectorForm" action="searchResult.action">
			<div>
			<input type="hidden" name="searchOption" value="$searchOption">
			<input type="hidden" name="periodTypeId" value="$periodTypeId">
			<input type="hidden" name="fromDate" value="$fromDate">
			<input type="hidden" name="toDate" value="$toDate">
			<select name="selectedUnitChanger" onchange="javascript:document.getElementById('childSelectorForm').submit();">
				<option>
					Select children
				</option>
				#foreach ($child in $CurrentChildren)
					<option value="$child.getId()" id="orgUnit$child.getId()">
						$child.getName()
					</option>
				#end
			</select>
			</div>
		</form>
		</div>
	</div>
	
	#elseif ($searchOption=="DataElementGroup")
	<div>
		<h3>Navigation</h3>
		<div style="margin:0 0 10px 0;">
		<a href="displayDataBrowserForm.action">Start</a>
		#if($parent != "")
			&raquo; <a style="$tmpStyle" href="?periodTypeId=$periodTypeId&amp;fromDate=$fromDate&amp;toDate=$toDate&amp;searchOption=DataElementGroup">Data Element Group list</a>
			&raquo; <span style="font-weight:bold;">$ParentName</span>
		#else
			&raquo; <span style="font-weight:bold;">Data Element Group list</span>
		#end
		</div>
	</div>
	
	#elseif ($searchOption=="OrganisationUnitGroup")
	<div>
		<h3>Navigation</h3>
		<div style="margin:0 0 10px 0;">
		<a href="displayDataBrowserForm.action">Start</a>
		#if($parent != "")
			&raquo; <a style="$tmpStyle" href="?periodTypeId=$periodTypeId&amp;fromDate=$fromDate&amp;toDate=$toDate&amp;searchOption=OrganisationUnitGroup">Organisation Unit Groups list</a>
			&raquo; <span style="font-weight:bold;">$ParentName</span>
		#else
			&raquo; <span style="font-weight:bold;">Organisation Unit Group list</span>
		#end
		</div>
	</div>
	
	#elseif ($searchOption=="DataSet")
	<div>
		<h3>Navigation</h3>
		<div style="margin:0 0 10px 0;">
		<a href="displayDataBrowserForm.action">Start</a> 
		#if($parent != "")
			&raquo; <a style="$tmpStyle" href="?periodTypeId=$periodTypeId&amp;fromDate=$fromDate&amp;toDate=$toDate&amp;searchOption=DataSet">Data Set list</a>
			&raquo; <span style="font-weight:bold;">$ParentName</span>
		#else
			&raquo; <span style="font-weight:bold;">Data Set List</span>
		#end
		</div>
	</div>
	
	#else
	<div>
		<h3>Navigation</h3>
		<a href="displayDataBrowserForm.action">Start</a>
	</div>
	#end
	    
	<div>
    	<form method="get" action="exportPDF.action" onsubmit="window.location.href='exportPDF.action'">
	    	<div>
				<input type="submit" value="$i18n.getString( 'Export PDF' )" style="width:100px">	
				Filename:
		    	<input type="text" id="fileName" name="fileName" value="export" title="Filename to be used for export">
		    	Font size: 
				<select id="fontSize" name="fontSize" title="Font size to be used for export">
					<option value="8">$i18n.getString( "8" )</option>
					<option value="6">$i18n.getString( "6" )</option>
					<option value="4">$i18n.getString( "4" )</option>
				</select>
				Page layout:
				<select id="pageLayout" name="pageLayout" title="Page layout to be used for export">
					<option value="Landscape">$i18n.getString( "Landscape" )</option>
					<option value="Portrait" >$i18n.getString( "Portrait" )</option>
				</select>
			</div>
		</form>
	</div>    
    
	<p>
	#if ( $fromDate == "" || $toDate == "" )
	    <strong>$i18n.getString( "from_date" ):</strong> $i18n.getString( "earliest" ) 
	    <strong>$i18n.getString( "to_date" ):</strong> $i18n.getString( "latest" ) 
	    <strong>$i18n.getString( "period_type" ):</strong> $periodTypeId
	#else
	    <strong>$i18n.getString( "from_date" ):</strong> $fromDate
	    <strong>$i18n.getString( "to_date" ):</strong> $toDate 
	    <strong>$i18n.getString( "period_type" ):</strong> $periodTypeId
	#end
	</p>
	
#if ( $allCounts.isEmpty() )
	<br/><br/>
	$i18n.getString( "no_data_found" )
#else	
	<table>
	<thead>
		<tr>
		#foreach ( $col in $allColumnsConverted )
			<th title="$col.metaValue">$col.name</th>
		#end
		</tr>
	</thead>
	<tbody>
		#set ( $rowIt = $rowNamesIterator )
		#set ($i = 0)
		#foreach ( $col in $allCounts )
			#set ($i = ($i + 1))
			#set ( $rowMeta = $rowIt.next() )
			<tr #if ($i%2 == 1) class="odd" #else class="par" #end >
			#if ( $searchOption=="OrganisationUnit" && !$parent && $rowMeta.id)
				<td style="min-width:200px"><a href="searchResult.action?searchOption=OrganisationUnit&amp;parent=$rowMeta.id&amp;periodType=$periodTypeId&amp;toDate=$toDate&amp;fromDate=$fromDate&amp;selectedUnitChanger=$rowMeta.id" title="see datasets for $rowMeta.name in spesified period">$rowMeta.name</a></td>
			#elseif ( $rowMeta.id && !$parent)
				<td style="min-width:200px"><a href="searchResult.action?searchOption=$searchOption&amp;parent=$rowMeta.id&amp;periodType=$periodTypeId&amp;toDate=$toDate&amp;fromDate=$fromDate">$rowMeta.name</a></td>
			#else
				<td style="min-width:200px">$rowMeta.name</td>
			#end
			#foreach ( $rowItem in $col )
				<td style="min-width:80px">#if ( $rowItem > 0 )$rowItem #else<span style="color:red;font-weight:bold;">$rowItem</span> #end</td>
			#end
			</tr>
		#end
	</tbody>
	</table>	
#end