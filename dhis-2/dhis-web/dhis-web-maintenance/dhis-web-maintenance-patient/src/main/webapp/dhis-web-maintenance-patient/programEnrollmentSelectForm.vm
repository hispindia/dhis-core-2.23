<div>
    <input type="button" value="$i18n.getString( "back_to_search" )" onclick="window.location.href='patient.action'" style="width:10em">
</div>


<h3>$i18n.getString( "program_enrollment" )</h3>

<form id="programSelectForm" name="programSelectForm" method="post" action="showProgramEnrollmentForm.action">

<div>
    <input type="hidden" id="id" name="id" value="$patient.id">    
</div>

<table>
    <tr>
        <td><strong>$i18n.getString( "full_name" ):</strong></td>
        <td>$encoder.htmlEncode( $patient.getFullName() )</td>
    </tr>
    <tr>
        <td><strong>$i18n.getString( "gender" ):</strong></td>
        <td>$encoder.htmlEncode( $patient.gender )</td>
    </tr>    
    <tr>
        <td><strong>$i18n.getString( "date_of_birth" ):</strong></td>
        <td>$format.formatDate( $patient.birthDate )</td>
    </tr>
    <tr>
        <td><strong>$i18n.getString( "age" ):</strong></td>
        <td>$encoder.htmlEncode( $patient.getAge() )</td>
    </tr>    
    <tr>
        <td>&nbsp;</td>
    </tr>
</table>

<hr style="clear:both">

<table>    
    <tr>
        <td style="width:180px"><label for="programId">$i18n.getString( "program" )</label></td>
        <td>
            <select id="programId" name="programId" onchange="document.getElementById( 'programSelectForm' ).submit();" style="min-width:200px" #if( $programs.size() == 0 ) disabled="disabled"#end>
                <option value="0">[$i18n.getString( "select" )]</option>
                #foreach( $program in $programs )
                    <option value="$program.id" #if( $programId && $program.id == $programId ) #set( $selectedProgram = $program) selected="selected" #end>$encoder.htmlEncode( $program.name )
                    </option>
                    
                #end
            </select>
        </td>
    </tr>   
        
</table>

</form>